<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Puzzle RGB Rokio</title>
  <style>
    body {
      background-color: #00ffff; /* color inicial: cian */
      color: white;
      font-family: monospace;
      text-align: center;
      margin: 0;
      padding: 2em;
    }
    canvas {
      margin-top: 20px;
      border: 2px solid white;
    }
    input[type="color"] {
      margin-top: 10px;
      padding: 8px;
    }
    .pista {
      font-style: italic;
      margin-bottom: 20px;
      color: #ccc;
    }
  </style>
</head>
<body>
  <h1>¿Cuál es la serie favorita de Rokio?</h1>
  <p class="pista">"Solo cuando el océano refleja la razón se revela la verdad."</p>

  <label for="bgPicker">Cambia el color de fondo:</label>
  <input type="color" id="bgPicker" value="#00ffff" onchange="setBackground()" />

  <canvas id="puzzleCanvas" width="900" height="300"></canvas>

  <script>
    const canvas = document.getElementById("puzzleCanvas");
    const ctx = canvas.getContext("2d");

    const bgPicker = document.getElementById("bgPicker");

    const options = [
      { text: "SMILING FRIENDS", x: 20, y: 50 },
      { text: "HORA DE AVENTURAS", x: 20, y: 100 },
      { text: "HOUSE", x: 20, y: 150 },
      { text: "SOUTH PARK", x: 20, y: 200 },
      { text: "FARGO", x: 500, y: 50 },
      { text: "MORAL OREL", x: 500, y: 100 } // correcta
    ];

    // La opción correcta estará compuesta solo de verde y azul → visible en fondo cian
    const correctColors = ["g", "b"];
    const wrongColors = ["r", "g", "b"];

    function drawPuzzle(bgColor) {
      ctx.fillStyle = bgColor;
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      ctx.font = "22px monospace";

      for (const opt of options) {
        const isCorrect = opt.text === "MORAL OREL";
        const colorSeq = isCorrect ? correctColors : wrongColors;

        for (let i = 0; i < opt.text.length; i++) {
          const colorCode = colorSeq[i % colorSeq.length];
          let color;
          if (colorCode === "r") color = "rgb(255,0,0)";
          if (colorCode === "g") color = "rgb(0,255,0)";
          if (colorCode === "b") color = "rgb(0,0,255)";
          ctx.fillStyle = color;
          ctx.fillText(opt.text[i], opt.x + i * 18, opt.y);
        }
      }

      // Distracción visual
      const symbols = ["#", "*", "$", "@", "%", "&"];
      for (let i = 0; i < 100; i++) {
        const sym = symbols[Math.floor(Math.random() * symbols.length)];
        const colorCode = wrongColors[Math.floor(Math.random() * 3)];
        let color;
        if (colorCode === "r") color = "rgb(255,0,0)";
        if (colorCode === "g") color = "rgb(0,255,0)";
        if (colorCode === "b") color = "rgb(0,0,255)";
        ctx.fillStyle = color;
        const x = Math.random() * canvas.width;
        const y = Math.random() * canvas.height;
        ctx.fillText(sym, x, y);
      }
    }

    function setBackground() {
      const bgColor = bgPicker.value;
      document.body.style.backgroundColor = bgColor;
      drawPuzzle(bgColor);
    }

    // Inicial
    drawPuzzle(bgPicker.value);
  </script>
</body>
</html>